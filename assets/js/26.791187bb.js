(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{364:function(e,t,a){"use strict";a.r(t);var s=a(34),r=Object(s.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"adding-backup-restore-capability"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-backup-restore-capability","aria-hidden":"true"}},[e._v("#")]),e._v(" Adding backup/restore capability")]),e._v(" "),a("hr"),e._v(" "),a("p",[a("strong",[e._v("NOTE")])]),e._v(" "),a("p",[e._v("Backups will only work if you use CSI based volumes. Backups will not work for "),a("code",[e._v("hostPath")]),e._v(" volumes.")]),e._v(" "),a("hr"),e._v(" "),a("p",[e._v("Backups and restores feature is provided via "),a("a",{attrs:{href:"https://velero.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("Velero"),a("OutboundLink")],1),e._v(" integration. Both file-based and volume snapshot based backups are supported.\nBackups and restores are disabled by default. Follow these steps to configure environment and enable backup feature:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Get supported Velero release (follow the "),a("a",{attrs:{href:"https://velero.io/docs/v1.9/basic-install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("steps"),a("OutboundLink")],1),e._v(" from the official Velero website)")])]),e._v(" "),a("li",[a("p",[e._v("Install Velero for your "),a("a",{attrs:{href:"https://velero.io/docs/v1.9/supported-providers/",target:"_blank",rel:"noopener noreferrer"}},[e._v("infrastructure provider"),a("OutboundLink")],1),e._v(". Make sure to include "),a("code",[e._v("--use-restic")]),e._v(" to enable file based backups.")])]),e._v(" "),a("li",[a("p",[e._v("Verify Velero status.")])])]),e._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("velero version\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Example output")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Client:")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#         Version: v1.9.0")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#         Git commit: -")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Server:")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#         Version: v1.9.0")]),e._v("\nvelero get backup-locations\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Example output")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# NAME      PROVIDER   BUCKET/PREFIX     PHASE       LAST VALIDATED                   ACCESS MODE   DEFAULT")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# default   aws        kl-demo-backups   Available   2022-07-11 13:54:24 +0300 EEST   ReadWrite     true")]),e._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Enable and configure backups for KuberLogic\n"),a("ol",[a("li",[e._v("Open file "),a("code",[e._v("modules/dynamic-operator/config/manager/kustomization.yaml")])]),e._v(" "),a("li",[e._v("Change "),a("code",[e._v("backups_enabled=false")]),e._v(" to "),a("code",[e._v("backups_enabled=true")])]),e._v(" "),a("li",[e._v("If your Velero provider plugin supports snapshot based backups, change "),a("code",[e._v("backups_snapshots_enabled=false")]),e._v(" to "),a("code",[e._v("backups_snapshots_enabled=true")])])])])])])},[],!1,null,null,null);t.default=r.exports}}]);